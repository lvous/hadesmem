# tests/jamfile.v2

import testing
  ;

project
  :
    requirements
    
    <toolset>msvc:<warnings>all
    <toolset>gcc:<warnings>all
    <toolset>clang:<warnings>all
    <toolset>intel:<warnings>on
    
    <warnings-as-errors>on

    <toolset>gcc:<cxxflags>"-std=c++11"
    <toolset>clang:<cxxflags>"-std=c++11"
    <toolset>intel:<cxxflags>"/Qstd=c++0x /Qwd2586"
    
    <toolset>msvc:<cxxflags>"/analyze /sdl"
    <toolset>gcc:<cxxflags>"-ansi -pedantic -Wextra -Weffc++ -Wshadow -Wconversion"
    
    <library>/memory//memory
    <library>/boost//filesystem/<link>static
    <library>/boost//unit_test_framework/<link>static
  ;

run process.cpp
  ;

run process_list.cpp
  ;

run read.cpp
  ;

run write.cpp
  ;

run protect.cpp
  ;

run alloc.cpp
  ;

run module.cpp
  ;

run module_list.cpp
  ;

run region.cpp
  ;

run region_list.cpp
  ;
  
run call.cpp
  ;
  
run injector.cpp
  ;

run patcher.cpp
  ;

run pelib/pefile.cpp
  ;

compile-fail read_pod_fail.cpp
  ;

compile-fail read_string_fail.cpp
  ;

compile-fail read_list_fail.cpp
  ;

compile-fail write_pod_fail.cpp
  ;

compile-fail write_string_fail.cpp
  ;

compile-fail write_list_fail.cpp
  ;
