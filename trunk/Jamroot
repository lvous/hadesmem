 use-project /Dependencies 
  : Src/Dependencies
  ;
  
use-project /Common 
  : Include/Common 
  ; 
  
use-project /Memory 
  : Src/Memory 
  ; 
   
use-project /Scripting 
  : Src/Scripting
  ; 
  
use-project /Doc 
  : Doc
  ; 
  
project 
  : requirements <define>BOOST_FILESYSTEM_VERSION=3 <define>UNICODE <define>_UNICODE <runtime-link>shared 
  <toolset>gcc:<cxxflags>"-std=c++0x" <toolset>gcc:<warnings>off <toolset>gcc:<define>nullptr=NULL
  <toolset>msvc:<warnings>all 
  : default-build debug 
  ;

path-constant TOP 
  : . 
  ;

build-project Src/Memory 
  ;
  
build-project Src/Scripting 
  ;
  
build-project Doc
  ;
  
rule Install-Rule ( properties * ) 
{
  local result 
    ;
  
  if <address-model>32 in $(properties) 
  {
    if <variant>debug in $(properties)
    {
      if <toolset>gcc in $(properties)
      {
        result += <location>Bin/GCC/Debug/IA32 
          ;
      }
      
      if <toolset>msvc in $(properties)
      {
        result += <location>Bin/MSVC/Debug/IA32 
          ;
      }
    }
    
    if <variant>release in $(properties)
    {
      if <toolset>gcc in $(properties)
      {
        result += <location>Bin/GCC/Release/IA32 
          ;
      }
      
      if <toolset>msvc in $(properties)
      {
        result += <location>Bin/MSVC/Release/IA32 
          ;
      }
    }
  }
  
  if <address-model>64 in $(properties) 
  {
    if <variant>debug in $(properties)
    {
      if <toolset>gcc in $(properties)
      {
        result += <location>Bin/GCC/Debug/AMD64 
          ;
      }
      
      if <toolset>msvc in $(properties)
      {
        result += <location>Bin/MSVC/Debug/AMD64 
          ;
      }
    }
    
    if <variant>release in $(properties)
    {
      if <toolset>gcc in $(properties)
      {
        result += <location>Bin/GCC/Release/AMD64 
          ;
      }
      
      if <toolset>msvc in $(properties)
      {
        result += <location>Bin/MSVC/Release/AMD64 
          ;
      }
    }
  }
  
  return $(result) 
    ;
}
  
install Bin 
  : Src/Memory Src/Scripting 
  : <conditional>@Install-Rule <install-dependencies>on <install-type>SHARED_LIB <install-type>EXE <install-type>PYTHON_EXTENSION 
  ;
