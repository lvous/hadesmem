# Tests/Jamfile.v2

import testing 
  ;

project 
  : 
    requirements 
    <toolset>msvc:<warnings>all 
    <toolset>gcc:<warnings>all 
    <toolset>msvc:<warnings-as-errors>on 
    <toolset>gcc:<warnings-as-errors>on 
    <toolset>gcc:<cxxflags>-Wextra 
    <toolset>gcc:<cxxflags>-pedantic-errors 
    <library>/Memory//Memory 
    <library>/boost//thread/<link>static 
    <library>/boost//unit_test_framework/<link>static 
    <toolset>gcc:<linkflags>-Wl,--allow-multiple-definition
  ;

test-suite Memory
  :
    [ run Detail/ProcessTest.cpp ]
    [ run FindPatternTest.cpp ]
    [ run MemoryMgrTest.cpp ]
    [ run ModuleTest.cpp ]
    [ run InjectorTest.cpp ]
    [ run RegionTest.cpp ]
    [ run Experimental/ManualMapTest.cpp : : : <toolset>msvc:<linkflags>/NXCOMPAT:NO ]
    [ run PeLib/DosHeaderTest.cpp ]
    [ run PeLib/ExportDirTest.cpp ]
    [ run PeLib/ImportDirTest.cpp ]
    [ run PeLib/NtHeadersTest.cpp ]
    [ run PeLib/PeFileTest.cpp ]
    [ run PeLib/SectionTest.cpp ]
    [ run PeLib/TlsDirTest.cpp ]
  ;
